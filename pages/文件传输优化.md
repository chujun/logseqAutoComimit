- 引言:磁盘IO访问速度，内存访问速度，CPU访问速度成几何倍速差异,那么该如何提高文件传输效率呢？
  ![image.png](../assets/image_1653831725270_0.png)
- 传统IO模式的效率底下性
  ((ec116d1e-b1c3-444c-b4f7-6a836c89e900))
- DMA技术
  ((62937793-b6da-4236-b21b-4a95343d54c6))
- 如何优化传统文件传输效率
  1. 减少上下文切换次数--->减少系统调用次数
  2. 文件传输场景中不需要对数据进行修改,用户空间缓存区没有必要存在
- [[文件传输的零拷贝技术]]
- 资料
  [文件传输效率提高](https://www.cnblogs.com/xiaolincoding/p/13719610.html)
- PageCache
  PageCache:上面优化第一步都是先需要先把磁盘文件数据拷贝「内核缓冲区」里，这个「内核缓冲区」实际上是磁盘高速缓存（PageCache）。
  
  时间局部性原理--->PageCache 来缓存最近被访问的数据
  当空间不足时淘汰最久未被访问的缓存。
  2. 空间局部性原理--->PageCache 使用了「预读功能」
  
  比如，假设 read 方法每次只会读 32 KB 的字节，虽然 read 刚开始只会读 0 ～ 32 KB 的字节，但内核会把其后面的 32～64 KB 也读取到 PageCache，这样后面读取 32～64 KB 的成本就很低，如果在 32～64 KB 淘汰出 PageCache 前，进程读取到它了，收益就非常大。
- 讨论问题的思路梳理
  疑惑
  1. 到底是更新缓存还是删缓存？
  2. 到底选择先更新数据库，再删除缓存，还是先删除缓存，再更新数据库？
  3. 第一步更新数据库成功，第二步删除缓存失败有什么问题?
  4. 读写并发有什么问题?
  5. 为什么要引入消息队列保证一致性？
  6. 延迟双删会有什么问题？到底要不要用？
  7. 数据库主从复制延迟有什么影响
  ![image.png](../assets/image_1655892556285_0.png)
- 业务场景分析
  0.最简单的场景开始讲起。
  如果你的业务处于起步阶段，流量非常小，那无论是读请求还是写请求，直接操作数据库即可，这时你的架构模型是这样的：
  ![image.png](../assets/image_1655892627894_0.png)
  10. 但随着业务量的增长，你的项目请求量越来越大，这时如果每次都从数据库中读数据，那肯定会有性能问题。
  这个阶段通常的做法是，引入「缓存」来提高读性能，架构模型就变成了这样：
  ![image.png](../assets/image_1655892738376_0.png)
- 过程
  读写MySQL--->引入缓存提高性能--->
- 资料
  这篇强烈推荐
  [缓存和数据库一致性问题，看这篇就够了-水滴与银弹 ，作者Magic Kaito](https://mp.weixin.qq.com/s/D4Ik6lTA_ySBOyD3waNj1w)